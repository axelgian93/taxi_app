(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{5747:function(e,t,n){Promise.resolve().then(n.bind(n,4028))},4028:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),a=n(2265),l=n(2800),o=n(4282),u=n(7138);function c(){let[e,t]=(0,a.useState)("cliente@demo.local"),[n,c]=(0,a.useState)("123456"),[i,s]=(0,a.useState)("Cliente"),[f,h]=(0,a.useState)("Demo"),[d,g]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null);async function v(t){t.preventDefault(),g(!0),m(null);try{let t=await (0,l.j)("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:n,firstName:i,lastName:f,role:"RIDER"})});(0,o.J1)(t.token,t.user),location.href="/rider/request"}catch(e){m((null==e?void 0:e.message)||"Error")}finally{g(!1)}}return(0,r.jsxs)("div",{className:"card",style:{maxWidth:480,margin:"40px auto"},children:[(0,r.jsx)("h2",{children:"Rider — Registro"}),(0,r.jsxs)("form",{onSubmit:v,className:"row",style:{flexDirection:"column",gap:12},children:[(0,r.jsxs)("div",{className:"row",style:{gap:8},children:[(0,r.jsx)("input",{placeholder:"Nombre",value:i,onChange:e=>s(e.target.value)}),(0,r.jsx)("input",{placeholder:"Apellido",value:f,onChange:e=>h(e.target.value)})]}),(0,r.jsx)("input",{placeholder:"email",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("input",{placeholder:"password",type:"password",value:n,onChange:e=>c(e.target.value)}),p&&(0,r.jsx)("div",{style:{color:"var(--danger)"},children:p}),(0,r.jsx)("button",{className:"btn",disabled:d,children:d?"Creando…":"Crear cuenta"})]}),(0,r.jsxs)("div",{style:{marginTop:8},className:"muted",children:["\xbfYa tienes cuenta? ",(0,r.jsx)(u.default,{href:"/rider/login",children:"Ingresar"})]})]})}},2800:function(e,t,n){"use strict";n.d(t,{S:function(){return r},j:function(){return a}});let r="http://localhost:8081";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=new Headers(t.headers||{});a.set("Content-Type","application/json"),n&&a.set("Authorization","Bearer ".concat(n));let l=await fetch("".concat(r).concat(e),{...t,headers:a,cache:"no-store"});if(!l.ok){let e=await l.text().catch(()=>"");throw Error("API ".concat(l.status,": ").concat(e||l.statusText))}return l.json()}},4282:function(e,t,n){"use strict";n.d(t,{DH:function(){return c},J1:function(){return o},PR:function(){return u},oC:function(){return i}});var r=n(6300).Buffer;let a="taxi_token",l="taxi_user";function o(e,t){localStorage.setItem(a,e),localStorage.setItem(l,JSON.stringify(t))}function u(){let e=localStorage.getItem(l);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function c(){localStorage.removeItem(a),localStorage.removeItem(l)}function i(){let e=localStorage.getItem(a);return e?!function(e){let t=function(e){let t=e.split(".");if(3!==t.length)return null;try{let e=function(e){try{let t=e.length%4==2?"==":e.length%4==3?"=":e.length%4==1?"===":"",n=e.replace(/-/g,"+").replace(/_/g,"/")+t;if("function"==typeof atob)return atob(n);return r.from(n,"base64").toString("binary")}catch(e){return""}}(t[1]);return JSON.parse(e)}catch(e){return null}}(e);return null!=t&&!!t.exp&&Math.floor(Date.now()/1e3)>=t.exp}(e)?e:(c(),null):null}}},function(e){e.O(0,[300,138,971,23,744],function(){return e(e.s=5747)}),_N_E=e.O()}]);