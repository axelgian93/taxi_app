exports.id=791,exports.ids=[791],exports.modules={9189:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},4047:(e,t,n)=>{Promise.resolve().then(n.bind(n,933)),Promise.resolve().then(n.bind(n,6618)),Promise.resolve().then(n.bind(n,8482))},8482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var s=n(326),r=n(7577),i=n.n(r),a=n(434),l=n(6208);let o="http://localhost:8081";function d(){let[e,t]=(0,r.useState)(()=>!1),[n,i]=(0,r.useState)(!1),[a,d]=(0,r.useState)(null);async function c(){i(!0),d(null);try{let e=(0,l.oC)();if(!e)throw Error("Inicia sesi\xf3n");let t=await fetch(`${o}/admin/demo/seed`,{method:"POST",headers:{Authorization:`Bearer ${e}`},cache:"no-store"});if(!t.ok)throw Error(`Seed HTTP ${t.status}`);d("Demo iniciada")}catch(e){d(e?.message||"Error en seed")}finally{i(!1)}}async function u(){i(!0),d(null);try{let e=(0,l.oC)();if(!e)throw Error("Inicia sesi\xf3n");let t=await fetch(`${o}/admin/demo/reset`,{method:"POST",headers:{Authorization:`Bearer ${e}`},cache:"no-store"});if(!t.ok)throw Error(`Reset HTTP ${t.status}`);d("Demo reseteada")}catch(e){d(e?.message||"Error en reset")}finally{i(!1)}}async function h(){let n=!e;t(n),n?await c():await u()}return(0,s.jsxs)("div",{style:{background:e?"#0b4":"#444",color:"white",padding:"6px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{className:"row",style:{gap:12,alignItems:"center"},children:[s.jsx("strong",{children:"Modo Demo"}),s.jsx("span",{className:"muted",children:e?"activo":"inactivo"}),a&&s.jsx("span",{style:{opacity:.8},children:a})]}),(0,s.jsxs)("div",{className:"row",style:{gap:8},children:[s.jsx("button",{className:"btn secondary",onClick:h,disabled:n,children:e?"Detener":"Iniciar"}),e&&s.jsx("button",{className:"btn secondary",onClick:u,disabled:n,children:"Reset ahora"})]})]})}function c(){let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)("");if(!e)return null;let a=n?` ${n.toLowerCase()}`:"";return(0,s.jsxs)("span",{className:"muted",style:{marginLeft:12},children:["v",e,a?` (${a})`:""]})}var u=n(8145);function h({children:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(d,{}),(0,s.jsxs)("header",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{className:"row",children:[s.jsx("strong",{children:"Taxi App"}),(0,s.jsxs)("nav",{className:"row",style:{gap:16},children:[s.jsx(a.default,{href:"/",children:"Inicio"}),s.jsx(a.default,{href:"/admin/trips",children:"Trips"}),s.jsx(a.default,{href:"/admin/tariffs",children:"Tarifas"}),s.jsx(a.default,{href:"/admin/simulator",children:"Simulador"}),s.jsx(a.default,{href:"/admin/reports",children:"Reportes"}),s.jsx(a.default,{href:"/admin/ops",children:"Operaciones"})]})]}),s.jsx(m,{})]}),s.jsx(u.V,{children:s.jsx("main",{className:"container",children:e})}),(0,s.jsxs)("footer",{className:"container",style:{marginTop:24,paddingBottom:24,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[s.jsx(a.default,{href:"/admin/readme",children:"Gu\xeda de Demo"}),s.jsx(c,{})]})]})}function m(){let[e,t]=i().useState(()=>(0,l.PR)());return e?(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("span",{className:"muted",children:[e.email," (",e.role,")"]}),s.jsx("button",{className:"btn secondary",onClick:()=>{(0,l.DH)(),location.href="/login"},children:"Salir"})]}):s.jsx(a.default,{className:"btn secondary",href:"/login",children:"Ingresar"})}},6836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var s=n(326),r=n(7577),i=n.n(r);function a({origin:e,destination:t,driver:n,height:r=320,controls:a=!1}){let l=i().useRef(null),o=i().useRef(null);return i().useRef({}),i().useRef(!1),(0,s.jsxs)("div",{style:{position:"relative",width:"100%",height:r},children:[s.jsx("div",{ref:l,style:{width:"100%",height:"100%"}}),a&&(0,s.jsxs)("div",{style:{position:"absolute",top:8,right:8,display:"flex",flexDirection:"column",gap:6},children:[s.jsx("button",{className:"btn secondary","aria-label":"Centrar a origen",onClick:()=>d(e),children:"Origen"}),s.jsx("button",{className:"btn secondary","aria-label":"Centrar a destino",onClick:()=>d(t),children:"Destino"}),s.jsx("button",{className:"btn secondary","aria-label":"Centrar a conductor",onClick:()=>d(n),children:"Driver"}),s.jsx("button",{className:"btn secondary","aria-label":"Encajar todo",onClick:()=>(function(){let s=window.L;if(!s||!o.current)return;let r=[];if(e&&r.push(e),t&&r.push(t),n&&r.push(n),0===r.length)return;let i=s.latLngBounds(r.map(e=>[e.lat,e.lng]));o.current.fitBounds(i.pad(.25),{maxZoom:16})})(),children:"Reencuadrar"})]})]});function d(e){window.L&&o.current&&e&&isFinite(e.lat)&&isFinite(e.lng)&&o.current.setView([e.lat,e.lng],Math.max(14,o.current.getZoom()||14),{animate:!0})}}},8145:(e,t,n)=>{"use strict";n.d(t,{V:()=>l,p:()=>a});var s=n(326),r=n(7577);let i=(0,r.createContext)(null);function a(){let e=(0,r.useContext)(i);if(!e)throw Error("useToast must be used within ToastProvider");return e}function l({children:e}){let[t,n]=(0,r.useState)([]),a=(e,t="info",s=3200)=>{let r=Date.now()+Math.floor(1e3*Math.random()),i={id:r,kind:t,text:e,ttl:Date.now()+s};n(e=>[...e,i]),setTimeout(()=>n(e=>e.filter(e=>e.id!==r)),s)},l=(0,r.useMemo)(()=>({show:a}),[]);return(0,s.jsxs)(i.Provider,{value:l,children:[e,s.jsx("div",{style:{position:"fixed",top:12,right:12,display:"flex",flexDirection:"column",gap:8,zIndex:1e3},children:t.map(e=>(0,s.jsxs)("div",{className:"card",style:{padding:"10px 12px",minWidth:260,maxWidth:360,borderLeft:`4px solid ${"success"===e.kind?"#22c55e":"error"===e.kind?"#ef4444":"#3b82f6"}`},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:2},children:"success"===e.kind?"\xc9xito":"error"===e.kind?"Error":"Info"}),s.jsx("div",{className:"muted",children:e.text})]},e.id))})]})}},6208:(e,t,n)=>{"use strict";function s(e,t){}function r(){return null}function i(){}function a(){return null}n.d(t,{DH:()=>i,J1:()=>s,PR:()=>r,oC:()=>a})},2029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(9510);n(4315),n(1159);let r=(0,n(5782).default)(()=>n.e(298).then(n.bind(n,7298)),{loadableGenerated:{modules:["app/layout.tsx -> @/src/components/ClientShell"]},ssr:!1});function i({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{children:s.jsx(r,{children:e})})})}},4315:()=>{}};